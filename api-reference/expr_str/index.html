
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../expr_name/">
      
      
        <link rel="next" href="../group_by/">
      
      
      <link rel="icon" href="../../assets/logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>narwhals.Expr.str - Narwhals</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#narwhalsexprstr" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Narwhals" class="md-header__button md-logo" aria-label="Narwhals" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Narwhals
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              narwhals.Expr.str
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/narwhals-dev/narwhals.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Narwhals" class="md-nav__button md-logo" aria-label="Narwhals" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    Narwhals
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/narwhals-dev/narwhals.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../why/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Why
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation and quick start
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/dataframe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DataFrame
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/series/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Series
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/complete_example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Complete example
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basics/dataframe_conversion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conversion between libraries
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Pandas-like concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Pandas-like concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pandas_like_concepts/pandas_index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What about the pandas Index?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pandas_like_concepts/improve_group_by_operation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Avoiding the UserWarning error while using Pandas group_by
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pandas_like_concepts/column_names/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Column names
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pandas_like_concepts/boolean/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boolean columns
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pandas_like_concepts/null_handling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Null/NaN handling
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overhead/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overhead
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../backcompat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Perfect backwards compatibility policy
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../extending/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported libraries and extending Narwhals
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_it_works/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How it works
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ecosystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ecosystem
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../security/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resources
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api-completeness/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    API Completeness
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_13" id="__nav_13_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            API Completeness
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/dataframe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported DataFrame methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/lazyframe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported LazyFrame methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/expr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Expr methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/expr_cat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Expr.cat methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/expr_dt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Expr.dt methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/expr_list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Expr.list methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/expr_name/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Expr.name methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/expr_str/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Expr.str methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/series/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Series methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/series_cat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Series.cat methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/series_dt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Series.dt methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/series_list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Series.list methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-completeness/series_str/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported Series.str methods
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_14" id="__nav_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../narwhals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Top-level functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataframe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.DataFrame
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../expr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.Expr
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../expr_cat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.Expr.cat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../expr_dt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.Expr.dt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../expr_list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.Expr.list
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../expr_name/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.Expr.name
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    narwhals.Expr.str
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    narwhals.Expr.str
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace" class="md-nav__link">
    <span class="md-ellipsis">
      ExprStringNamespace
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.contains" class="md-nav__link">
    <span class="md-ellipsis">
      contains
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.ends_with" class="md-nav__link">
    <span class="md-ellipsis">
      ends_with
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.head" class="md-nav__link">
    <span class="md-ellipsis">
      head
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.len_chars" class="md-nav__link">
    <span class="md-ellipsis">
      len_chars
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.replace" class="md-nav__link">
    <span class="md-ellipsis">
      replace
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.replace_all" class="md-nav__link">
    <span class="md-ellipsis">
      replace_all
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.slice" class="md-nav__link">
    <span class="md-ellipsis">
      slice
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.starts_with" class="md-nav__link">
    <span class="md-ellipsis">
      starts_with
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.strip_chars" class="md-nav__link">
    <span class="md-ellipsis">
      strip_chars
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.tail" class="md-nav__link">
    <span class="md-ellipsis">
      tail
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.to_datetime" class="md-nav__link">
    <span class="md-ellipsis">
      to_datetime
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.to_lowercase" class="md-nav__link">
    <span class="md-ellipsis">
      to_lowercase
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.to_uppercase" class="md-nav__link">
    <span class="md-ellipsis">
      to_uppercase
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../group_by/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.GroupBy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lazy_group_by/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.LazyGroupBy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lazyframe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.LazyFrame
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.Schema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../series/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.Series
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../series_cat/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.Series.cat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../series_dt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.Series.dt
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../series_list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.Series.list
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../series_str/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.Series.str
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dependencies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.dependencies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dtypes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.dtypes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.exceptions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../selectors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.selectors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../typing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    narwhals.typing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../this/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    This
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace" class="md-nav__link">
    <span class="md-ellipsis">
      ExprStringNamespace
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.contains" class="md-nav__link">
    <span class="md-ellipsis">
      contains
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.ends_with" class="md-nav__link">
    <span class="md-ellipsis">
      ends_with
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.head" class="md-nav__link">
    <span class="md-ellipsis">
      head
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.len_chars" class="md-nav__link">
    <span class="md-ellipsis">
      len_chars
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.replace" class="md-nav__link">
    <span class="md-ellipsis">
      replace
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.replace_all" class="md-nav__link">
    <span class="md-ellipsis">
      replace_all
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.slice" class="md-nav__link">
    <span class="md-ellipsis">
      slice
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.starts_with" class="md-nav__link">
    <span class="md-ellipsis">
      starts_with
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.strip_chars" class="md-nav__link">
    <span class="md-ellipsis">
      strip_chars
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.tail" class="md-nav__link">
    <span class="md-ellipsis">
      tail
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.to_datetime" class="md-nav__link">
    <span class="md-ellipsis">
      to_datetime
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.to_lowercase" class="md-nav__link">
    <span class="md-ellipsis">
      to_lowercase
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#narwhals.expr.ExprStringNamespace.to_uppercase" class="md-nav__link">
    <span class="md-ellipsis">
      to_uppercase
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="narwhalsexprstr"><code>narwhals.Expr.str</code></h1>


<div class="doc doc-object doc-class">



<a id="narwhals.expr.ExprStringNamespace"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.contains" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">contains</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">literal</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Check if string contains a substring that matches a pattern.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pattern</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A Character sequence or valid regular expression pattern.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>literal</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, treats the pattern as a literal string.
     If False, assumes the pattern is a regular expression.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;pets&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;rabbit and parrot&quot;</span><span class="p">,</span> <span class="s2">&quot;dove&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_contains</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">default_match</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;pets&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;parrot|Dove&quot;</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">case_insensitive_match</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;pets&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;(?i)parrot|Dove&quot;</span><span class="p">),</span>
<span class="gp">... </span>        <span class="n">literal_match</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;pets&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span>
<span class="gp">... </span>            <span class="s2">&quot;parrot|Dove&quot;</span><span class="p">,</span> <span class="n">literal</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_contains</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_contains</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">                pets default_match case_insensitive_match literal_match</span>
<span class="go">0                cat         False                  False         False</span>
<span class="go">1                dog         False                  False         False</span>
<span class="go">2  rabbit and parrot          True                   True         False</span>
<span class="go">3               dove         False                   True         False</span>
<span class="go">4               None          None                   None          None</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_contains</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (5, 4)</span>
<span class="go">┌───────────────────┬───────────────┬────────────────────────┬───────────────┐</span>
<span class="go">│ pets              ┆ default_match ┆ case_insensitive_match ┆ literal_match │</span>
<span class="go">│ ---               ┆ ---           ┆ ---                    ┆ ---           │</span>
<span class="go">│ str               ┆ bool          ┆ bool                   ┆ bool          │</span>
<span class="go">╞═══════════════════╪═══════════════╪════════════════════════╪═══════════════╡</span>
<span class="go">│ cat               ┆ false         ┆ false                  ┆ false         │</span>
<span class="go">│ dog               ┆ false         ┆ false                  ┆ false         │</span>
<span class="go">│ rabbit and parrot ┆ true          ┆ true                   ┆ false         │</span>
<span class="go">│ dove              ┆ false         ┆ true                   ┆ false         │</span>
<span class="go">│ null              ┆ null          ┆ null                   ┆ null          │</span>
<span class="go">└───────────────────┴───────────────┴────────────────────────┴───────────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_contains</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">pets: string</span>
<span class="go">default_match: bool</span>
<span class="go">case_insensitive_match: bool</span>
<span class="go">literal_match: bool</span>
<span class="go">----</span>
<span class="go">pets: [[&quot;cat&quot;,&quot;dog&quot;,&quot;rabbit and parrot&quot;,&quot;dove&quot;,null]]</span>
<span class="go">default_match: [[false,false,true,false,null]]</span>
<span class="go">case_insensitive_match: [[false,false,true,true,null]]</span>
<span class="go">literal_match: [[false,false,false,false,null]]</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.ends_with" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ends_with</span><span class="p">(</span><span class="n">suffix</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Check if string values end with a substring.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>suffix</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>suffix substring</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;fruits&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;mango&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_ends_with</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">has_suffix</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;fruits&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">ends_with</span><span class="p">(</span><span class="s2">&quot;ngo&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_ends_with</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_ends_with</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">  fruits has_suffix</span>
<span class="go">0  apple      False</span>
<span class="go">1  mango       True</span>
<span class="go">2   None       None</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_ends_with</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (3, 2)</span>
<span class="go">┌────────┬────────────┐</span>
<span class="go">│ fruits ┆ has_suffix │</span>
<span class="go">│ ---    ┆ ---        │</span>
<span class="go">│ str    ┆ bool       │</span>
<span class="go">╞════════╪════════════╡</span>
<span class="go">│ apple  ┆ false      │</span>
<span class="go">│ mango  ┆ true       │</span>
<span class="go">│ null   ┆ null       │</span>
<span class="go">└────────┴────────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_ends_with</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">fruits: string</span>
<span class="go">has_suffix: bool</span>
<span class="go">----</span>
<span class="go">fruits: [[&quot;apple&quot;,&quot;mango&quot;,null]]</span>
<span class="go">has_suffix: [[false,true,null]]</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.head" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">head</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Take the first n elements of each string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of elements to take. Negative indexing is <strong>not</strong> supported.</p>
              </div>
            </td>
            <td>
                  <code>5</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>If the length of the string has fewer than <code>n</code> characters, the full string is returned.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;lyrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Atatata&quot;</span><span class="p">,</span> <span class="s2">&quot;taata&quot;</span><span class="p">,</span> <span class="s2">&quot;taatatata&quot;</span><span class="p">,</span> <span class="s2">&quot;zukkyun&quot;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_head</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">lyrics_head</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;lyrics&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_head</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_head</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">      lyrics lyrics_head</span>
<span class="go">0    Atatata       Atata</span>
<span class="go">1      taata       taata</span>
<span class="go">2  taatatata       taata</span>
<span class="go">3    zukkyun       zukky</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_head</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (4, 2)</span>
<span class="go">┌───────────┬─────────────┐</span>
<span class="go">│ lyrics    ┆ lyrics_head │</span>
<span class="go">│ ---       ┆ ---         │</span>
<span class="go">│ str       ┆ str         │</span>
<span class="go">╞═══════════╪═════════════╡</span>
<span class="go">│ Atatata   ┆ Atata       │</span>
<span class="go">│ taata     ┆ taata       │</span>
<span class="go">│ taatatata ┆ taata       │</span>
<span class="go">│ zukkyun   ┆ zukky       │</span>
<span class="go">└───────────┴─────────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_head</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">lyrics: string</span>
<span class="go">lyrics_head: string</span>
<span class="go">----</span>
<span class="go">lyrics: [[&quot;Atatata&quot;,&quot;taata&quot;,&quot;taatatata&quot;,&quot;zukkyun&quot;]]</span>
<span class="go">lyrics_head: [[&quot;Atata&quot;,&quot;taata&quot;,&quot;taata&quot;,&quot;zukky&quot;]]</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.len_chars" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">len_chars</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Return the length of each string as the number of characters.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;words&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;Café&quot;</span><span class="p">,</span> <span class="s2">&quot;345&quot;</span><span class="p">,</span> <span class="s2">&quot;東京&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_len_chars</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">words_len</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;words&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len_chars</span><span class="p">()</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_len_chars</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_len_chars</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">  words  words_len</span>
<span class="go">0   foo        3.0</span>
<span class="go">1  Café        4.0</span>
<span class="go">2   345        3.0</span>
<span class="go">3    東京        2.0</span>
<span class="go">4  None        NaN</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_len_chars</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (5, 2)</span>
<span class="go">┌───────┬───────────┐</span>
<span class="go">│ words ┆ words_len │</span>
<span class="go">│ ---   ┆ ---       │</span>
<span class="go">│ str   ┆ u32       │</span>
<span class="go">╞═══════╪═══════════╡</span>
<span class="go">│ foo   ┆ 3         │</span>
<span class="go">│ Café  ┆ 4         │</span>
<span class="go">│ 345   ┆ 3         │</span>
<span class="go">│ 東京  ┆ 2         │</span>
<span class="go">│ null  ┆ null      │</span>
<span class="go">└───────┴───────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_len_chars</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">words: string</span>
<span class="go">words_len: int32</span>
<span class="go">----</span>
<span class="go">words: [[&quot;foo&quot;,&quot;Café&quot;,&quot;345&quot;,&quot;東京&quot;,null]]</span>
<span class="go">words_len: [[3,4,3,2,null]]</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.replace" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">replace</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">literal</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Replace first matching regex/literal substring with a new string value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pattern</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A valid regular expression pattern.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String that will replace the matched substring.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>literal</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Treat <code>pattern</code> as a literal string.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>n</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of matches to replace.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;123abc&quot;</span><span class="p">,</span> <span class="s2">&quot;abc abc123&quot;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_replace</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">replaced</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_replace</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_replace</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">          foo replaced</span>
<span class="go">0      123abc      123</span>
<span class="go">1  abc abc123   abc123</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_replace</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (2, 2)</span>
<span class="go">┌────────────┬──────────┐</span>
<span class="go">│ foo        ┆ replaced │</span>
<span class="go">│ ---        ┆ ---      │</span>
<span class="go">│ str        ┆ str      │</span>
<span class="go">╞════════════╪══════════╡</span>
<span class="go">│ 123abc     ┆ 123      │</span>
<span class="go">│ abc abc123 ┆  abc123  │</span>
<span class="go">└────────────┴──────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_replace</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">foo: string</span>
<span class="go">replaced: string</span>
<span class="go">----</span>
<span class="go">foo: [[&quot;123abc&quot;,&quot;abc abc123&quot;]]</span>
<span class="go">replaced: [[&quot;123&quot;,&quot; abc123&quot;]]</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.replace_all" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">replace_all</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">literal</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Replace all matching regex/literal substring with a new string value.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pattern</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A valid regular expression pattern.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String that will replace the matched substring.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>literal</code>
            </td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Treat <code>pattern</code> as a literal string.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;123abc&quot;</span><span class="p">,</span> <span class="s2">&quot;abc abc123&quot;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_replace_all</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">replaced</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace_all</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_replace_all</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_replace_all</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">          foo replaced</span>
<span class="go">0      123abc      123</span>
<span class="go">1  abc abc123      123</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_replace_all</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (2, 2)</span>
<span class="go">┌────────────┬──────────┐</span>
<span class="go">│ foo        ┆ replaced │</span>
<span class="go">│ ---        ┆ ---      │</span>
<span class="go">│ str        ┆ str      │</span>
<span class="go">╞════════════╪══════════╡</span>
<span class="go">│ 123abc     ┆ 123      │</span>
<span class="go">│ abc abc123 ┆  123     │</span>
<span class="go">└────────────┴──────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_replace_all</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">foo: string</span>
<span class="go">replaced: string</span>
<span class="go">----</span>
<span class="go">foo: [[&quot;123abc&quot;,&quot;abc abc123&quot;]]</span>
<span class="go">replaced: [[&quot;123&quot;,&quot; 123&quot;]]</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.slice" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">slice</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Create subslices of the string values of an expression.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>offset</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Start index. Negative indexing is supported.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>length</code>
            </td>
            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Length of the slice. If set to <code>None</code> (default), the slice is taken to the
end of the string.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;s&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;pear&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;papaya&quot;</span><span class="p">,</span> <span class="s2">&quot;dragonfruit&quot;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_slice</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">s_sliced</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;s&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_slice</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_slice</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">             s s_sliced</span>
<span class="go">0         pear</span>
<span class="go">1         None     None</span>
<span class="go">2       papaya       ya</span>
<span class="go">3  dragonfruit      onf</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_slice</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (4, 2)</span>
<span class="go">┌─────────────┬──────────┐</span>
<span class="go">│ s           ┆ s_sliced │</span>
<span class="go">│ ---         ┆ ---      │</span>
<span class="go">│ str         ┆ str      │</span>
<span class="go">╞═════════════╪══════════╡</span>
<span class="go">│ pear        ┆          │</span>
<span class="go">│ null        ┆ null     │</span>
<span class="go">│ papaya      ┆ ya       │</span>
<span class="go">│ dragonfruit ┆ onf      │</span>
<span class="go">└─────────────┴──────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_slice</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">s: string</span>
<span class="go">s_sliced: string</span>
<span class="go">----</span>
<span class="go">s: [[&quot;pear&quot;,null,&quot;papaya&quot;,&quot;dragonfruit&quot;]]</span>
<span class="go">s_sliced: [[&quot;&quot;,null,&quot;ya&quot;,&quot;onf&quot;]]</span>
</code></pre></div>
    <p>Using negative indexes:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_slice_negative</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">s_sliced</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;s&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_slice_negative</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">             s s_sliced</span>
<span class="go">0         pear      ear</span>
<span class="go">1         None     None</span>
<span class="go">2       papaya      aya</span>
<span class="go">3  dragonfruit      uit</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_slice_negative</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (4, 2)</span>
<span class="go">┌─────────────┬──────────┐</span>
<span class="go">│ s           ┆ s_sliced │</span>
<span class="go">│ ---         ┆ ---      │</span>
<span class="go">│ str         ┆ str      │</span>
<span class="go">╞═════════════╪══════════╡</span>
<span class="go">│ pear        ┆ ear      │</span>
<span class="go">│ null        ┆ null     │</span>
<span class="go">│ papaya      ┆ aya      │</span>
<span class="go">│ dragonfruit ┆ uit      │</span>
<span class="go">└─────────────┴──────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_slice_negative</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">s: string</span>
<span class="go">s_sliced: string</span>
<span class="go">----</span>
<span class="go">s: [[&quot;pear&quot;,null,&quot;papaya&quot;,&quot;dragonfruit&quot;]]</span>
<span class="go">s_sliced: [[&quot;ear&quot;,null,&quot;aya&quot;,&quot;uit&quot;]]</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.starts_with" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">starts_with</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Check if string values start with a substring.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>prefix</code>
            </td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>prefix substring</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;fruits&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;mango&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_starts_with</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">has_prefix</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;fruits&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">starts_with</span><span class="p">(</span><span class="s2">&quot;app&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_starts_with</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_starts_with</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">  fruits has_prefix</span>
<span class="go">0  apple       True</span>
<span class="go">1  mango      False</span>
<span class="go">2   None       None</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_starts_with</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (3, 2)</span>
<span class="go">┌────────┬────────────┐</span>
<span class="go">│ fruits ┆ has_prefix │</span>
<span class="go">│ ---    ┆ ---        │</span>
<span class="go">│ str    ┆ bool       │</span>
<span class="go">╞════════╪════════════╡</span>
<span class="go">│ apple  ┆ true       │</span>
<span class="go">│ mango  ┆ false      │</span>
<span class="go">│ null   ┆ null       │</span>
<span class="go">└────────┴────────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_starts_with</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">fruits: string</span>
<span class="go">has_prefix: bool</span>
<span class="go">----</span>
<span class="go">fruits: [[&quot;apple&quot;,&quot;mango&quot;,null]]</span>
<span class="go">has_prefix: [[true,false,null]]</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.strip_chars" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">strip_chars</span><span class="p">(</span><span class="n">characters</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Remove leading and trailing characters.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>characters</code>
            </td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The set of characters to be removed. All combinations of this
set of characters will be stripped from the start and end of the string.
If set to None (default), all leading and trailing whitespace is removed
instead.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrame</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;fruits&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">mango&quot;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_strip_chars</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span><span class="n">stripped</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;fruits&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip_chars</span><span class="p">())</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">as_series</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_strip_chars</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_strip_chars</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">{&#39;fruits&#39;: [&#39;apple&#39;, &#39;\nmango&#39;], &#39;stripped&#39;: [&#39;apple&#39;, &#39;mango&#39;]}</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_strip_chars</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">{&#39;fruits&#39;: [&#39;apple&#39;, &#39;\nmango&#39;], &#39;stripped&#39;: [&#39;apple&#39;, &#39;mango&#39;]}</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_strip_chars</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">{&#39;fruits&#39;: [&#39;apple&#39;, &#39;\nmango&#39;], &#39;stripped&#39;: [&#39;apple&#39;, &#39;mango&#39;]}</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.tail" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tail</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Take the last n elements of each string.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n</code>
            </td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of elements to take. Negative indexing is <strong>not</strong> supported.</p>
              </div>
            </td>
            <td>
                  <code>5</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>If the length of the string has fewer than <code>n</code> characters, the full string is returned.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;lyrics&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Atatata&quot;</span><span class="p">,</span> <span class="s2">&quot;taata&quot;</span><span class="p">,</span> <span class="s2">&quot;taatatata&quot;</span><span class="p">,</span> <span class="s2">&quot;zukkyun&quot;</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_tail</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">lyrics_tail</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;lyrics&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_tail</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_tail</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">      lyrics lyrics_tail</span>
<span class="go">0    Atatata       atata</span>
<span class="go">1      taata       taata</span>
<span class="go">2  taatatata       atata</span>
<span class="go">3    zukkyun       kkyun</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_tail</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (4, 2)</span>
<span class="go">┌───────────┬─────────────┐</span>
<span class="go">│ lyrics    ┆ lyrics_tail │</span>
<span class="go">│ ---       ┆ ---         │</span>
<span class="go">│ str       ┆ str         │</span>
<span class="go">╞═══════════╪═════════════╡</span>
<span class="go">│ Atatata   ┆ atata       │</span>
<span class="go">│ taata     ┆ taata       │</span>
<span class="go">│ taatatata ┆ atata       │</span>
<span class="go">│ zukkyun   ┆ kkyun       │</span>
<span class="go">└───────────┴─────────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_tail</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">lyrics: string</span>
<span class="go">lyrics_tail: string</span>
<span class="go">----</span>
<span class="go">lyrics: [[&quot;Atatata&quot;,&quot;taata&quot;,&quot;taatatata&quot;,&quot;zukkyun&quot;]]</span>
<span class="go">lyrics_tail: [[&quot;atata&quot;,&quot;taata&quot;,&quot;atata&quot;,&quot;kkyun&quot;]]</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.to_datetime" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_datetime</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Convert to Datetime dtype.</p>


<details class="warning" open>
  <summary>Warning</summary>
  <p>As different backends auto-infer format in different ways, if <code>format=None</code>
there is no guarantee that the result will be equal.</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>format</code>
            </td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Format to use for conversion. If set to None (default), the format is
inferred from the data.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>pandas defaults to nanosecond time unit, Polars to microsecond.
Prior to pandas 2.0, nanoseconds were the only time unit supported
in pandas, with no ability to set any other one. The ability to
set the time unit in pandas, if the version permits, will arrive.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2020-01-01&quot;</span><span class="p">,</span> <span class="s2">&quot;2020-01-02&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">({</span><span class="s2">&quot;a&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">})</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_to_datetime</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">select</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_to_datetime</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_to_datetime</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">           a</span>
<span class="go">0 2020-01-01</span>
<span class="go">1 2020-01-02</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_to_datetime</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (2, 1)</span>
<span class="go">┌─────────────────────┐</span>
<span class="go">│ a                   │</span>
<span class="go">│ ---                 │</span>
<span class="go">│ datetime[μs]        │</span>
<span class="go">╞═════════════════════╡</span>
<span class="go">│ 2020-01-01 00:00:00 │</span>
<span class="go">│ 2020-01-02 00:00:00 │</span>
<span class="go">└─────────────────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_to_datetime</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">a: timestamp[us]</span>
<span class="go">----</span>
<span class="go">a: [[2020-01-01 00:00:00.000000,2020-01-02 00:00:00.000000]]</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.to_lowercase" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_lowercase</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Transform string to lowercase variant.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;fruits&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;APPLE&quot;</span><span class="p">,</span> <span class="s2">&quot;MANGO&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_to_lowercase</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">lower_col</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;fruits&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">to_lowercase</span><span class="p">()</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_to_lowercase</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_to_lowercase</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">  fruits lower_col</span>
<span class="go">0  APPLE     apple</span>
<span class="go">1  MANGO     mango</span>
<span class="go">2   None      None</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_to_lowercase</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (3, 2)</span>
<span class="go">┌────────┬───────────┐</span>
<span class="go">│ fruits ┆ lower_col │</span>
<span class="go">│ ---    ┆ ---       │</span>
<span class="go">│ str    ┆ str       │</span>
<span class="go">╞════════╪═══════════╡</span>
<span class="go">│ APPLE  ┆ apple     │</span>
<span class="go">│ MANGO  ┆ mango     │</span>
<span class="go">│ null   ┆ null      │</span>
<span class="go">└────────┴───────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_to_lowercase</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">fruits: string</span>
<span class="go">lower_col: string</span>
<span class="go">----</span>
<span class="go">fruits: [[&quot;APPLE&quot;,&quot;MANGO&quot;,null]]</span>
<span class="go">lower_col: [[&quot;apple&quot;,&quot;mango&quot;,null]]</span>
</code></pre></div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="narwhals.expr.ExprStringNamespace.to_uppercase" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_uppercase</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Transform string to uppercase variant.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="narwhals.expr_str.ExprT">ExprT</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A new expression.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>The PyArrow backend will convert 'ß' to 'ẞ' instead of 'SS'.
For more info see <a href="https://github.com/apache/arrow/issues/34599">the related issue</a>.
There may be other unicode-edge-case-related variations across implementations.</p>
</details>

<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">polars</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pyarrow</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pa</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">narwhals</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">nw</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">narwhals.typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">IntoFrameT</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;fruits&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s2">&quot;mango&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pl</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df_pa</span> <span class="o">=</span> <span class="n">pa</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
    <p>We define a dataframe-agnostic function:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">agnostic_str_to_uppercase</span><span class="p">(</span><span class="n">df_native</span><span class="p">:</span> <span class="n">IntoFrameT</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">IntoFrameT</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">df</span> <span class="o">=</span> <span class="n">nw</span><span class="o">.</span><span class="n">from_native</span><span class="p">(</span><span class="n">df_native</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">upper_col</span><span class="o">=</span><span class="n">nw</span><span class="o">.</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;fruits&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">to_uppercase</span><span class="p">()</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">to_native</span><span class="p">()</span>
</code></pre></div>
    <p>We can then pass any supported library such as pandas, Polars, or
PyArrow to <code>agnostic_str_to_uppercase</code>:</p>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_to_uppercase</span><span class="p">(</span><span class="n">df_pd</span><span class="p">)</span>
<span class="go">  fruits upper_col</span>
<span class="go">0  apple     APPLE</span>
<span class="go">1  mango     MANGO</span>
<span class="go">2   None      None</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_to_uppercase</span><span class="p">(</span><span class="n">df_pl</span><span class="p">)</span>
<span class="go">shape: (3, 2)</span>
<span class="go">┌────────┬───────────┐</span>
<span class="go">│ fruits ┆ upper_col │</span>
<span class="go">│ ---    ┆ ---       │</span>
<span class="go">│ str    ┆ str       │</span>
<span class="go">╞════════╪═══════════╡</span>
<span class="go">│ apple  ┆ APPLE     │</span>
<span class="go">│ mango  ┆ MANGO     │</span>
<span class="go">│ null   ┆ null      │</span>
<span class="go">└────────┴───────────┘</span>
</code></pre></div>
    <div class="highlight"><pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="n">agnostic_str_to_uppercase</span><span class="p">(</span><span class="n">df_pa</span><span class="p">)</span>
<span class="go">pyarrow.Table</span>
<span class="go">fruits: string</span>
<span class="go">upper_col: string</span>
<span class="go">----</span>
<span class="go">fruits: [[&quot;apple&quot;,&quot;mango&quot;,null]]</span>
<span class="go">upper_col: [[&quot;APPLE&quot;,&quot;MANGO&quot;,null]]</span>
</code></pre></div>

    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../expr_name/" class="md-footer__link md-footer__link--prev" aria-label="Previous: narwhals.Expr.name">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                narwhals.Expr.name
              </div>
            </div>
          </a>
        
        
          
          <a href="../group_by/" class="md-footer__link md-footer__link--next" aria-label="Next: narwhals.GroupBy">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                narwhals.GroupBy
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.annotate", "navigation.footer", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
        <script src="../../javascripts/katex.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>